```SQL
SELECT CAR_ID, MAX(CASE WHEN '2022-10-16' BETWEEN START_DATE AND END_DATE THEN '대여중' ELSE '대여 가능' END) 
FROM CAR_RENTAL_COMPANY_RENTAL_HISTORY
GROUP BY CAR_ID
ORDER BY CAR_ID DESC
```

### 1. 문자열에 `MAX`가 걸릴 때 동작 방식

- 숫자라면 단순히 최댓값을 고릅니다.
- **문자열이라면 사전식(lexicographical) 순서**로 비교해서 최댓값을 뽑습니다.

즉, `'대여 가능'`과 `'대여중'` 중에서 **사전순으로 더 큰 문자열**이 선택됩니다.

👉 `'대여 가능'` < `'대여중'` (가 < 중)

따라서 둘 중 하나라도 `'대여중'`이 있으면 `MAX(...)`는 `'대여중'`이 됩니다.

모두 `'대여 가능'`이면 결과는 `'대여 가능'`.
