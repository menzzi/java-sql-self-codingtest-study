```java
import java.util.*;

class Solution {
    public int solution(int cacheSize, String[] cities) {
        if(cacheSize == 0) {
            return 5 * cities.length;
        }
        ArrayDeque<String> dq = new ArrayDeque<>();
        String[] lower_cities = new String[cities.length];
        int idx = 0;
        for(String s : cities) {
            lower_cities[idx++] = s.toLowerCase();
        }
        dq.add(lower_cities[0]);
        int answer = 5;
        int index = 1;
        while(true) {
            if(dq.size() == cacheSize || index == lower_cities.length) break;
            if(dq.contains(lower_cities[index])) {
                answer += 1;
                dq.remove(lower_cities[index]);
                dq.add(lower_cities[index]);
                index++;
            } else {
                answer += 5;
                dq.add(lower_cities[index]);
                index++;
            }
        }
        
        for(int i = index; i < cities.length; i++) {
            if(dq.contains(lower_cities[i])) {
                answer += 1;
                dq.remove(lower_cities[i]);
                dq.add(lower_cities[i]);
            } else {
                answer += 5;
                dq.pollFirst();
                dq.add(lower_cities[i]);
            }
        }
        
        return answer;
    }
}
```
