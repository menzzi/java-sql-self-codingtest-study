```java
import java.util.*;

class Solution {
    public ArrayList<Integer> solution(String[] genres, int[] plays) {
        HashMap<String, Integer> genreMap = new HashMap<>();
        for(int i = 0; i < genres.length; i++) {
            genreMap.put(genres[i], genreMap.getOrDefault(genres[i], 0) + plays[i]);
        }
        
        List<String> sortedG = new ArrayList<>(genreMap.keySet());
        sortedG.sort((o1, o2) -> genreMap.get(o2) - genreMap.get(o1));
        
        ArrayList<Integer> answer = new ArrayList<>();
        
        for(String genre : sortedG) {
            HashMap<Integer, Integer> map = new HashMap<>();
            for(int i = 0; i < genres.length; i++) {
                if(genres[i].equals(genre)) {
                    map.put(i, plays[i]);
                }
            }
            
            List<Integer> ans = new ArrayList<>(map.keySet());
            ans.sort((o1, o2) -> map.get(o2) - map.get(o1));
            
            int iter = 0;
            for(int k : ans) {
                if(iter == 2) break;
                answer.add(k);
                iter++;
            }
        }
        return answer;
    }
}
```
